点餐
========================================


菜品上传
-------------

接口说明
^^^^^^^^^^^^^

此接口由美味实现，开发者可以通过调用该接口将菜品全量上传，支持多店批量上传

请求说明
^^^^^^^^^^^^^

HTTP请求方式：POST

返回数据格式：JSON

测试环境 http://test2.9now.net/api/menu/dish

正式环境 http://api.9now.cn/api/menu/dish

参数说明
^^^^^^^^^^^^^


============== ============ ===================================================================== ======== ========
字段           类型         描述                                                                  开始版本  终止版本
============== ============ ===================================================================== ======== ========
vendorShopId*  int          厂商shopId(必填)                                                      v1.0.0    -
dishes*        json array   菜品列表(必填，类型参见下表)                                          v1.0.0   -
append         boolean      是否增量上传。默认为false。其中true表示增量上传，false表示全量上传。  v1.0.0   -
============== ============ ===================================================================== ======== ========

附注：全量和增量上传的含义：

1、全量上传：认为本次上传的数据为该门店最新的、最完整的数据，上传之后会将该门店之前所有的与该接口相关信息全部删除，然后将本次上传的所有数据新增上去；
如果新上传的数据id如果与上一次数据id一样，只能修改其相关的基本信息，并且与其相关的对应关系继续存在；如果id变化，则会新建记录，并且需要重新初始化菜品、类目、以及二者之间的关系。
附注：对于菜品全量上传，若菜品已上架，则只能修改价格和图片。

2、增量上传：系统通过 vendorShopId 和 菜品ID 来判断，如果菜品已经存在，则更新该菜品数据，如果菜品不存在，则新增；

dishes参数说明
^^^^^^^^^^^^^^^^^^^^^

========================== ============ =================================================================================== ======== ========
字段                       类型         描述                                                                                开始版本  终止版本
========================== ============ =================================================================================== ======== ========
vendorDishId*               string      厂商菜品id(必填)                                                                    v1.0.0    -
vendorCategoryId*           string      厂商类目id(必填)                                                                    v1.0.0    -
dishName*                   string      菜品名称(必填)                                                                      v1.0.0    -
dishNameEng                 string      菜品英文名称                                                                        v1.0.0    -
dishNameOther               string      菜品其他名称                                                                        v1.0.0    -
chef                        string      厨师名                                                                              v1.0.0    -
regionId                    string      适用环境:0-通用(默认),1-大厅,2-包房.多个时用逗号隔开                                v1.0.0    -
mealTypeId                  string      适用市别:0-通用(默认),1-早市,2-午市,3-晚市.多个时用逗号隔开                         v1.0.0    -
picture                     string      菜品图片url                                                                         v1.0.0    -
defaultPicture              string      默认菜品图片url                                                                      v1.0.0    -
recommendIndex              int         推荐指数:0-不推荐,>1表示是推荐菜,1-5为推荐指数                                        v1.0.0    -
unit*                       string      菜品单位(默认: "例")                                                                v1.0.0    -
salesVolume                 number      菜品月销量                                                                          v1.0.0    -
maxUnitPerRequest           int         堂吃每单限量                                                                        v1.0.0    -
maxUnitPerTakeawayRequest   int         外卖每单限量                                                                        v1.0.0    -
taste                       string      口味(不辣,微辣,中辣,重辣,其他)                                                      v1.0.0    -
tag                         string      其他标记                                                                            v1.0.0    -
cookStyle                   string      制作方法                                                                            v1.0.0    -
saleType                    int         销售类型:0-通用(默认),1-堂吃,2-外卖                                                   v1.0.0    -
status*                     int         估清状态:0-估清,1-可售(默认)                                                        v1.0.0    -
description                 string      菜品描述                                                                            v1.0.0    -
price*                      number      默认价格(必填)                                                                      v1.0.0    -
salePrice                   number      促销价格                                                                            v1.0.0    -
isActive                    boolean     是否有效标识。默认为true。其中true表示设置该选项为有效，false表示设置该选项为无效。 v1.0.0    -
========================== ============ =================================================================================== ======== ========


示例代码(json)
^^^^^^^^^^^^^^^^^^^^^

::

    [
        {
            "vendorShopId":1741,
            "dishes":
                [
                    {
                        "vendorDishId":"400",
                        "vendorCategoryId":"100",
                        "dishName":"烧味双拼",
                        "dishNameEng":"Semidetached Barbecue",
                        "dishNameOther":"焼き味双拼",
                        "chef":"Alain passade",
                        "regionId":"0",
                        "mealTypeId":"0",
                        "picture":"http://www.dianping.com/photos/68888499",
                        "defaultPicture":"http://www.dianping.com/photos/37057247",
                        "recommendIndex":5,
                        "unit":"例",
                        "salesVolume":725,
                        "maxUnitPerRequest":4,
                        "maxUnitPerTakeawayRequest":2,
                        "taste":"不辣",
                        "tag":"点单率高",
                        "cookStyle":"蒸",
                        "saleType":0,
                        "status":1,
                        "description":"烧味双拼的烧鸭很不错，烧肉肥的比较多",
                        "price":324.2,
                        "salePrice":300
                    },
                    {
                        "vendorDishId":"400",
                        "vendorCategoryId":"200",
                        "dishName":"咸柠檬七喜",
                        "dishNameEng":"Salted Lemon Sprite",
                        "dishNameOther":"塩レモンセブンアップ",
                        "chef":"Akyo luo",
                        "regionId":"1",
                        "mealTypeId":"2,3",
                        "picture":"http://www.dianping.com/photos/66382338/member",
                        "defaultPicture":"http://www.dianping.com/photos/66382342/member",
                        "recommendIndex":0,
                        "unit":"杯",
                        "salesVolume":239,
                        "maxUnitPerRequest":2,
                        "taste":"不辣",
                        "tag":"口味独特",
                        "cookStyle":"冰镇",
                        "saleType":1,
                        "status":1,
                        "description":"柠檬味很浓,有点酸",
                        "price":545,
                        "salePrice":500
                    }
                ]
        }
    ]
                

返回参数说明
^^^^^^^^^^^^^^^^^^

======== ======== ========
字段      类型     描述
======== ======== ========
code*    int      校验结果
msg      String   详细描述
======== ======== ========

返回码说明
^^^^^^^^^^^^^^^^^^

======== =================
code     msg
======== =================
2391     成功
2399     有错误或未知情况
======== =================


类目上传
-------------

接口说明
^^^^^^^^^^^^^

此接口由美味实现，开发者可以通过调用该接口将菜品类目全量上传，支持多店批量上传

请求说明
^^^^^^^^^^^^^

HTTP请求方式：POST

返回数据格式：JSON

测试环境 http://test2.9now.net/api/menu/cate

正式环境 http://api.9now.cn/api/menu/cate


参数说明
^^^^^^^^^^^^^

============== ============ ===================================================================== ======== ========
字段           类型         描述                                                                  开始版本  终止版本
============== ============ ===================================================================== ======== ========
vendorShopId*   int         厂商shopId(必填)                                                      v1.0.0    -
categories*     json array  商户类目列表(必填，类型参见下表)                                      v1.0.0    -
append          boolean     是否增量上传。默认为false。其中true表示增量上传，false表示全量上传。   v1.0.0    -
============== ============ ===================================================================== ======== ========

附注：全量和增量上传的含义：

1、全量上传：认为本次上传的数据为该门店最新的、最完整的数据，上传之后会将该门店之前所有的与该接口相关信息全部删除，然后将本次上传的所有数据新增上去；
如果新上传的数据id如果与上一次数据id一样，只能修改其相关的基本信息，并且与其相关的对应关系继续存在；如果id变化，则会新建记录，并且需要重新初始化菜品、类目、以及二者之间的关系。
附注：对于菜品全量上传，若菜品已上架，则只能修改价格和图片。

2、增量上传：系统通过 vendorShopId 和 类目 ID 来判断，如果类目已经存在，则更新该类目数据，如果类目不存在，则新增；


categories参数说明
^^^^^^^^^^^^^^^^^^^^^^^^

====================== ============ ===================================================================================== ======== ========
字段                   类型           描述                                                                                开始版本    终止版本
====================== ============ ===================================================================================== ======== ========
vendorCategoryId*       string      厂商类目id(必填)                                                              v1.0.0  -
categoryName*           string      厂商类目名称(必填)                                                             v1.0.0  -
parentVendorCategoryId  int         厂商父类目id                                                                  v1.0.0  -
rank*                   int         类目排序(必填,越小显示排名越靠前)                                              v1.0.0  -
limit                   int         此类目最多选几道菜,默认为0-不限量                                              v1.0.0  -
isActive                boolean     是否有效标识。默认为true。其中true表示设置该选项为有效，false表示设置该选项为无效。    v1.0.0  -
description             string      类目描述信息                                                                          v1.0.0    -
====================== ============ ===================================================================================== ======== ========

附注：isActive的含义：
1、类似于数据库中的软删除表示，如果isActive为false，则该数据无效，不会提供给其他程序使用。同时，与该类目相关的映射关系也无效，但是与类目有映射关系的菜品仍然存在。
反之，则会提供给其他相关程序使用。


示例代码(json)
^^^^^^^^^^^^^^^^^^^^^

::

    [
        {
            "vendorShopId":1741,
            "categories":
                [
                    {
                        "vendorCategoryId":"123",
                        "categoryName":"港式烧味",
                        "parentVendorCategoryId":100,
                        "rank":8,
                        "limit":2,
                        "description":"港式烧味"
                    },
                    {
                        "vendorCategoryId":"130",
                        "categoryName":"港式饮料",
                        "parentVendorCategoryId":100,
                        "rank":7,
                        "limit":1,
                        "description":"港式饮料"
                    }
                ]
        },
        {
            "vendorShopId":1761,
            "categories":
                [
                    {
                        "vendorCategoryId":"243939",
                        "categoryName":"主食",
                        "parentVendorCategoryId":24000,
                        "rank":1,
                        "limit":10,
                        "description":"主食"
                    },
                    {
                        "vendorCategoryId":"243784",
                        "categoryName":"凉菜",
                        "parentVendorCategoryId":21000,
                        "rank":2,
                        "limit":8,
                        "description":"凉菜"
                    }
                ]
        }
    ]


返回参数说明
^^^^^^^^^^^^^^^^^^^^

======== ======== ========
字段      类型     描述
======== ======== ========
code*    int      校验结果
msg      String   详细描述
======== ======== ========

返回码说明
^^^^^^^^^^^^^^^^^^^

======== =================
code     msg
======== =================
2392     成功
2399     有错误或未知情况
======== =================

下单
-------------

接口说明
^^^^^^^^^^^

此接口由厂商实现，美味通过调用该接口进行下单信息确认。

请求说明
^^^^^^^^^^^^^

HTTP请求方式：POST
返回数据格式：JSON
厂商测试环境url
厂商正式环境url


查询订单
-------------